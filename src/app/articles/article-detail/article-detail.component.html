<div  *ngIf="article" class="article-area">
  <h1 class="article-title">{{article.title}}</h1>
  <div class="article-metadata">
    <img class="article-author-icon" src="data:image/png;base64,{{article.author.icon}}">
    <div class="article-author">{{article.author.userId}}</div>
    <div class="article-date">{{article.date | date: 'yyyy/MM/dd HH:mm' }}</div>
    <div *ngIf="auth.loginUser.userId === article.author.userId" class="operation-area">
      <button md-button [routerLink]="['/drafts', article.articleId, 'edit']"  routerLinkActive="active">
        <i class="fa fa-fw fa-pencil-square"></i><span>  編集</span>
      </button>
      <span class="spacer"></span>
      <button md-button [mdMenuTriggerFor]="menu">
        <i class="fa fa-fw fa-cog"></i>  設定
      </button>
      <md-menu #menu="mdMenu">
        <div md-menu-item disabled></div>
        <a md-menu-item (click)="deleteArticle()">
          <i class="fa fa-fw fa-trash-o"></i><span>  削除</span>
        </a>
      </md-menu>
    </div>
  </div>
  <div class="article-body">
    <div *ngIf="article.isMarkdown; then markdown else plainText"></div>
    <ng-template #markdown>
      <p [innerHTML]="article.body | toMarkdown" class="markdown-body"></p>
    </ng-template>
    <ng-template #plainText>
      <pre [innerHTML]="article.body" class="plain-text-body"></pre>                
    </ng-template>
  </div>
</div>

<div  *ngIf="article" class="article-comment-area">
  <app-comment-list
    _idOfArticle="{{article._id}}"
  ></app-comment-list>
</div>
